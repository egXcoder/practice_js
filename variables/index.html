<html>

<script>
    function showVariableTypes() {
        let x = {
            hello() {

            }
        };

        console.log(typeof 123); //number
        console.log(typeof 900719925124740998n); //bigint
        console.log(typeof "string"); //string
        console.log(typeof true); //boolean
        console.log(typeof x); //object
        console.log(typeof [1, 2, 3, 4]); //object
        console.log(typeof x.hello); //function
        console.log(typeof null); //object
        console.log(typeof undefined); //undefined
        console.log(typeof Infinity); //number
    }

    //Variable typing is used to assign a number to a variable and the same variable can be assigned to a string.
    function variableTyping(){
        let i = 10;
        i = "string";
    }

    //let variables are scoped to the immediate enclosing block denoted by { } (hence the block scope).
    //Variables declared by var keyword are scoped to the immediate function body (hence the function scope)
    function differenceBeetweenLetAndVar() {
        let i = 0; //..defined in function scope, its same as var i = 0; since both will make it defined in function scope
        while (i < 1) {
            let m = 123; //..can be accessed only inside the while {} so m, can't be accessed outside
            var mm = 123;//..can be accessed anywhere inside the function
            i++;
        }

        console.log(m); //reference error, m is not defined
        console.log(mm); //123
    }

    //please notice, const has same scope as let
    //please notice, syntax error means error on compiling phase
    // function redeclareVariables(){
    //     let i = 0;
    //     let i = 1; // SyntaxError: Identifier 'i' has already been declared

    //     const j = 0;
    //     const j = 1; // SyntaxError: Identifier 'i' has already been declared

    //     var k = 0;
    //     var k = 1; //valid
    // }

    //please notice, TypeError means error on execution phase
    function reassignVariables() {
        let i = 0;
        i = 1; //valid

        const j = 0;
        j = 1; // TypeError: Assignment to constant variable.

        var k = 0;
        k = 1; //valid
    }

    function assignToGlobalScope() {
        x = 2;
        console.log(window.x); //2
    }

    function modifyConstVariable() {
        const person = {
            name: 'Ahmed',
            age: '27'
        };

        person.name = "Ahmed I"; //valid
        person = 123; //Assignment to constant variable.
    }

    // at the time closure is called, it will try to log the i variable which is defined in the function itself
    // at that time, the variable i will have a value of 3, so closure will run 3 times and each time will print 3
    function setTimoutWithVariables() {
        //3 will present 3 times
        for (var i = 0; i < 3; i++) {
            setTimeout(()=>{
                console.log(i);
            });
        }
    }

    //the i variable within closure is different here because i is hoisted within the for block {}
    //each iteration will have a different value of i
    //so when closure run, it will call the i variable which will be different because it depends on the iteration itself
    function setTimoutWithVariables2() {
        //0 , 1 , 2
        for (let i = 0; i < 3; i++) {
            setTimeout(()=>{
                console.log(i);
            });
        }
    }

    var foo = "Foo";  // globally scoped
    let bar = "Bar"; // globally scoped

    console.log(window.foo); // Foo
    console.log(window.bar); // undefined



    // showVariableTypes();
    // differenceBeetweenLetAndVar();
    // redeclareVariables();
    // reassignVariables();
    // assignToGlobalScope();
    // modifyConstVariable();
    // setTimoutWithVariables();
    // setTimoutWithVariables2();
</script>

</html>